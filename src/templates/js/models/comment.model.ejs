/*
    Data model for working with the comments object
*/

<% if(databaseType === 'MongoDB') { -%>
import { Schema, model } from 'mongoose';

const CommentSchema = new Schema(
    {
        body: {
            type: String,
            required: [true, 'Body is required'],
        },
    },
    { versionKey: false, timestamps: true }
);

const Comment = model('comments', CommentSchema);

export default Comment;
<% } -%>
<% if(databaseType === 'PostgreSQL') { -%>
import { DataTypes } from 'sequelize';
import db from '../services/index.js';

const Comment = db.sequelize.define('comments', {
    body: {
        type: DataTypes.TEXT,
        allowNull: false,
    },
});

export default Comment;
<% } -%>
<% if(!database) { -%>
import { v4 as uuidv4 } from 'uuid';

class Comment {
    constructor(body) {
        this.id = uuidv4();
        this.body = body;
        this.createdAt = new Date().toISOString();
        this.updatedAt = new Date().toISOString();
    }
}

export default Comment;    
<% } -%>